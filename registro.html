<!DOCTYPE html>

<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nordex Colombia - Portal de Clientes</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

```
    body {
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        background: linear-gradient(135deg, #1e3c72 0%, #2a5298 50%, #4CAF50 100%);
        min-height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
        position: relative;
        overflow-x: hidden;
    }

    /* Animaci√≥n de turbinas de viento en el fondo */
    .wind-turbines {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        pointer-events: none;
        z-index: 1;
        opacity: 0.1;
    }

    .turbine {
        position: absolute;
        width: 60px;
        height: 120px;
        background: white;
        border-radius: 50px;
        animation: rotate 8s linear infinite;
    }

    .turbine:nth-child(1) { top: 15%; left: 10%; animation-delay: 0s; }
    .turbine:nth-child(2) { top: 35%; right: 15%; animation-delay: 2s; }
    .turbine:nth-child(3) { bottom: 25%; left: 20%; animation-delay: 4s; }
    .turbine:nth-child(4) { top: 60%; right: 30%; animation-delay: 6s; }

    @keyframes rotate {
        from { transform: rotate(0deg); }
        to { transform: rotate(360deg); }
    }

    .container {
        background: rgba(255, 255, 255, 0.95);
        padding: 2.5rem;
        border-radius: 20px;
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
        width: 100%;
        max-width: 480px;
        backdrop-filter: blur(15px);
        border: 1px solid rgba(255, 255, 255, 0.2);
        z-index: 10;
        position: relative;
    }

    .nordex-header {
        text-align: center;
        margin-bottom: 2rem;
        position: relative;
    }

    .nordex-header::before {
        content: "üå™Ô∏è";
        font-size: 3rem;
        display: block;
        margin-bottom: 0.5rem;
        animation: spin 10s linear infinite;
    }

    @keyframes spin {
        from { transform: rotate(0deg); }
        to { transform: rotate(360deg); }
    }

    .nordex-header h1 {
        color: #1e3c72;
        font-size: 2.5rem;
        font-weight: 700;
        margin-bottom: 0.5rem;
        text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
    }

    .nordex-header p {
        color: #4CAF50;
        font-size: 1rem;
        font-weight: 500;
        text-transform: uppercase;
        letter-spacing: 2px;
    }

    .colombia-flag {
        display: inline-block;
        margin-left: 0.5rem;
        font-size: 1.2rem;
    }

    .form-container {
        display: none;
    }

    .form-container.active {
        display: block;
        animation: fadeIn 0.6s ease;
    }

    @keyframes fadeIn {
        from { opacity: 0; transform: translateY(30px); }
        to { opacity: 1; transform: translateY(0); }
    }

    h2 {
        text-align: center;
        margin-bottom: 1.5rem;
        color: #1e3c72;
        font-size: 1.8rem;
        font-weight: 600;
    }

    .form-group {
        margin-bottom: 1.5rem;
        position: relative;
    }

    label {
        display: block;
        margin-bottom: 0.5rem;
        color: #1e3c72;
        font-weight: 600;
        font-size: 0.9rem;
    }

    .phone-input {
        display: flex;
        gap: 0.5rem;
    }

    .country-code {
        background: #f8f9fa;
        border: 2px solid #e0e0e0;
        border-radius: 12px;
        padding: 1rem;
        font-weight: 600;
        color: #1e3c72;
        font-size: 1rem;
        min-width: 80px;
        text-align: center;
    }

    input[type="text"],
    input[type="tel"],
    input[type="password"] {
        width: 100%;
        padding: 1rem;
        border: 2px solid #e0e0e0;
        border-radius: 12px;
        font-size: 1rem;
        transition: all 0.3s ease;
        background: rgba(255, 255, 255, 0.9);
        color: #333;
    }

    input[type="text"]:focus,
    input[type="tel"]:focus,
    input[type="password"]:focus {
        outline: none;
        border-color: #4CAF50;
        box-shadow: 0 0 0 3px rgba(76, 175, 80, 0.2);
        transform: translateY(-2px);
    }

    .captcha-container {
        background: #f8f9fa;
        border: 2px solid #e0e0e0;
        border-radius: 12px;
        padding: 1rem;
        text-align: center;
        margin-bottom: 1rem;
    }

    .captcha-code {
        font-size: 1.5rem;
        font-weight: 700;
        color: #1e3c72;
        background: linear-gradient(45deg, #1e3c72, #4CAF50);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        text-decoration: line-through;
        text-decoration-color: rgba(0,0,0,0.3);
        letter-spacing: 3px;
        margin-bottom: 0.5rem;
    }

    .refresh-captcha {
        background: none;
        border: none;
        color: #4CAF50;
        cursor: pointer;
        font-size: 0.9rem;
        text-decoration: underline;
    }

    .refresh-captcha:hover {
        color: #1e3c72;
    }

    .btn {
        width: 100%;
        padding: 1rem;
        background: linear-gradient(135deg, #4CAF50 0%, #45a049 100%);
        color: white;
        border: none;
        border-radius: 12px;
        font-size: 1.1rem;
        cursor: pointer;
        transition: all 0.3s ease;
        font-weight: 700;
        text-transform: uppercase;
        letter-spacing: 1px;
        box-shadow: 0 4px 15px rgba(76, 175, 80, 0.3);
    }

    .btn:hover {
        transform: translateY(-3px);
        box-shadow: 0 8px 25px rgba(76, 175, 80, 0.4);
        background: linear-gradient(135deg, #45a049 0%, #4CAF50 100%);
    }

    .btn:active {
        transform: translateY(-1px);
    }

    .btn:disabled {
        opacity: 0.6;
        cursor: not-allowed;
        transform: none;
    }

    .switch-form {
        text-align: center;
        margin-top: 1.5rem;
        color: #666;
    }

    .switch-form a {
        color: #1e3c72;
        text-decoration: none;
        font-weight: 600;
        transition: color 0.3s ease;
    }

    .switch-form a:hover {
        color: #4CAF50;
        text-decoration: underline;
    }

    .error {
        color: #e74c3c;
        font-size: 0.9rem;
        margin-top: 0.5rem;
        display: none;
        background: rgba(231, 76, 60, 0.1);
        padding: 0.5rem;
        border-radius: 8px;
        border-left: 4px solid #e74c3c;
    }

    .success {
        color: #27ae60;
        font-size: 0.9rem;
        margin-top: 0.5rem;
        display: none;
        background: rgba(39, 174, 96, 0.1);
        padding: 0.5rem;
        border-radius: 8px;
        border-left: 4px solid #27ae60;
    }

    .referral-info {
        background: rgba(76, 175, 80, 0.1);
        padding: 0.8rem;
        border-radius: 8px;
        border-left: 4px solid #4CAF50;
        font-size: 0.9rem;
        color: #1e3c72;
        margin-bottom: 1rem;
    }

    /* Home Page Styles */
    .home-container {
        display: none;
        text-align: center;
        padding: 3rem;
        background: rgba(255, 255, 255, 0.95);
        border-radius: 20px;
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
        backdrop-filter: blur(15px);
        border: 1px solid rgba(255, 255, 255, 0.2);
        max-width: 700px;
        width: 100%;
        z-index: 10;
        position: relative;
    }

    .home-container.active {
        display: block;
        animation: fadeIn 0.6s ease;
    }

    .welcome-header {
        margin-bottom: 2rem;
    }

    .welcome-header::before {
        content: "üá®üá¥";
        font-size: 3rem;
        display: block;
        margin-bottom: 0.5rem;
    }

    .welcome-message {
        font-size: 2.5rem;
        color: #1e3c72;
        margin-bottom: 0.5rem;
        font-weight: 700;
    }

    .welcome-subtitle {
        color: #4CAF50;
        font-size: 1.2rem;
        font-weight: 500;
    }

    .user-info {
        background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
        padding: 2rem;
        border-radius: 15px;
        margin: 2rem 0;
        border-left: 5px solid #4CAF50;
    }

    .user-info h3 {
        color: #1e3c72;
        margin-bottom: 1rem;
        font-size: 1.3rem;
    }

    .user-info p {
        color: #666;
        margin-bottom: 0.5rem;
        font-size: 1.1rem;
    }

    .dashboard-stats {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
        gap: 1rem;
        margin: 2rem 0;
    }

    .stat-card {
        background: linear-gradient(135deg, #4CAF50 0%, #45a049 100%);
        color: white;
        padding: 1.5rem;
        border-radius: 12px;
        text-align: center;
        box-shadow: 0 4px 15px rgba(76, 175, 80, 0.3);
    }

    .stat-card h4 {
        font-size: 2rem;
        margin-bottom: 0.5rem;
    }

    .stat-card p {
        font-size: 0.9rem;
        opacity: 0.9;
    }

    .logout-btn {
        background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);
        padding: 0.75rem 2rem;
        border: none;
        border-radius: 12px;
        color: white;
        font-size: 1rem;
        cursor: pointer;
        transition: all 0.3s ease;
        font-weight: 600;
        margin-top: 1rem;
    }

    .logout-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 20px rgba(231, 76, 60, 0.3);
    }

    @media (max-width: 768px) {
        .container, .home-container {
            margin: 1rem;
            padding: 1.5rem;
        }
        
        .dashboard-stats {
            grid-template-columns: 1fr;
        }

        .phone-input {
            flex-direction: column;
        }

        .country-code {
            min-width: auto;
        }
    }
</style>
```

</head>
<body>
    <!-- Turbinas de viento animadas de fondo -->
    <div class="wind-turbines">
        <div class="turbine"></div>
        <div class="turbine"></div>
        <div class="turbine"></div>
        <div class="turbine"></div>
    </div>

```
<div class="container">
    <!-- Header de Nordex -->
    <div class="nordex-header">
        <h1>NORDEX</h1>
        <p>Energ√≠a E√≥lica Colombia <span class="colombia-flag">üá®üá¥</span></p>
    </div>

    <!-- Formulario de Inicio de Sesi√≥n -->
    <div id="loginForm" class="form-container active">
        <h2>Iniciar Sesi√≥n</h2>
        <form id="loginFormElement">
            <div class="form-group">
                <label for="loginPhone">üì± N√∫mero de Tel√©fono:</label>
                <div class="phone-input">
                    <div class="country-code">+57</div>
                    <input type="tel" id="loginPhone" name="phone" placeholder="3001234567" required>
                </div>
            </div>
            <div class="form-group">
                <label for="loginPassword">üîí Contrase√±a:</label>
                <input type="password" id="loginPassword" name="password" placeholder="Tu contrase√±a segura" required>
            </div>
            <button type="submit" class="btn">üå™Ô∏è Iniciar Sesi√≥n</button>
            <div id="loginError" class="error"></div>
            <div id="loginSuccess" class="success"></div>
        </form>
        <div class="switch-form">
            <p>¬øNuevo cliente? <a href="#" onclick="showRegister()">Reg√≠strate aqu√≠</a></p>
        </div>
    </div>

    <!-- Formulario de Registro -->
    <div id="registerForm" class="form-container">
        <h2>Registro de Cliente</h2>
        <form id="registerFormElement">
            <div class="form-group">
                <label for="registerPhone">üì± N√∫mero de Tel√©fono:</label>
                <div class="phone-input">
                    <div class="country-code">+57</div>
                    <input type="tel" id="registerPhone" name="phone" placeholder="3001234567" required>
                </div>
            </div>
            <div class="form-group">
                <label for="registerUsername">üë§ Nombre de Usuario:</label>
                <input type="text" id="registerUsername" name="username" placeholder="Tu nombre de usuario √∫nico" required>
            </div>
            <div class="form-group">
                <label for="referralCode">üéØ C√≥digo de Referido:</label>
                <input type="text" id="referralCode" name="referralCode" placeholder="C√≥digo de referido (opcional)">
                <div class="referral-info">
                    üí° Si tienes un c√≥digo de referido, ¬°obt√©n descuentos especiales en tu primera instalaci√≥n!
                </div>
            </div>
            <div class="form-group">
                <label for="registerPassword">üîí Contrase√±a:</label>
                <input type="password" id="registerPassword" name="password" placeholder="M√≠nimo 8 caracteres" required>
            </div>
            <div class="form-group">
                <label for="confirmPassword">üîí Confirmar Contrase√±a:</label>
                <input type="password" id="confirmPassword" name="confirmPassword" placeholder="Repite tu contrase√±a" required>
            </div>
            <div class="form-group">
                <label for="captchaInput">üîê C√≥digo de Verificaci√≥n:</label>
                <div class="captcha-container">
                    <div class="captcha-code" id="captchaCode">ABCD5</div>
                    <button type="button" class="refresh-captcha" onclick="refreshCaptcha()">üîÑ Generar nuevo c√≥digo</button>
                </div>
                <input type="text" id="captchaInput" name="captcha" placeholder="Ingresa el c√≥digo mostrado arriba" required>
            </div>
            <button type="submit" class="btn">üå± Crear Cuenta</button>
            <div id="registerError" class="error"></div>
            <div id="registerSuccess" class="success"></div>
        </form>
        <div class="switch-form">
            <p>¬øYa tienes cuenta? <a href="#" onclick="showLogin()">Inicia sesi√≥n aqu√≠</a></p>
        </div>
    </div>
</div>

<!-- P√°gina Home -->
<div id="homePage" class="home-container">
    <div class="welcome-header">
        <h1 class="welcome-message">¬°Bienvenido a Nordex Colombia!</h1>
        <p class="welcome-subtitle">Tu portal de energ√≠a e√≥lica sostenible</p>
    </div>
    
    <div id="userInfo" class="user-info"></div>
    
    <div class="dashboard-stats">
        <div class="stat-card">
            <h4>45</h4>
            <p>Turbinas en Colombia</p>
        </div>
        <div class="stat-card">
            <h4>156 MW</h4>
            <p>Capacidad Instalada</p>
        </div>
        <div class="stat-card">
            <h4>97.8%</h4>
            <p>Disponibilidad</p>
        </div>
        <div class="stat-card">
            <h4>2,847</h4>
            <p>Clientes Activos</p>
        </div>
    </div>
    
    <button class="logout-btn" onclick="logout()">üö™ Cerrar Sesi√≥n</button>
</div>

<script>
    // Datos de usuarios almacenados en memoria
    let users = [];
    let currentUser = null;
    let currentCaptcha = '';

    // C√≥digos de referido v√°lidos
    const validReferralCodes = [
        'NORDEX2024',
        'WIND2024',
        'COLOMBIA2024',
        'EOLICA2024',
        'GREEN2024',
        'REFERIDO123',
        'ENERGIA2024'
    ];

    // Generar captcha aleatorio
    function generateCaptcha() {
        const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';
        let result = '';
        for (let i = 0; i < 5; i++) {
            result += chars.charAt(Math.floor(Math.random() * chars.length));
        }
        return result;
    }

    // Refrescar captcha
    function refreshCaptcha() {
        currentCaptcha = generateCaptcha();
        document.getElementById('captchaCode').textContent = currentCaptcha;
    }

    // Inicializar captcha
    refreshCaptcha();

    // Funciones para cambiar entre formularios
    function showLogin() {
        document.getElementById('loginForm').classList.add('active');
        document.getElementById('registerForm').classList.remove('active');
        clearMessages();
    }

    function showRegister() {
        document.getElementById('registerForm').classList.add('active');
        document.getElementById('loginForm').classList.remove('active');
        clearMessages();
        refreshCaptcha();
    }

    function showHome() {
        document.querySelector('.container').style.display = 'none';
        document.getElementById('homePage').classList.add('active');
        
        const referralStatus = currentUser.referralCode ? 
            `<p><strong>C√≥digo de Referido:</strong> ${currentUser.referralCode} ‚úÖ</p>` : 
            '<p><strong>C√≥digo de Referido:</strong> No utilizado</p>';
        
        document.getElementById('userInfo').innerHTML = `
            <h3>Informaci√≥n del Cliente</h3>
            <p><strong>Nombre de Usuario:</strong> ${currentUser.username}</p>
            <p><strong>Tel√©fono:</strong> +57 ${currentUser.phone}</p>
            ${referralStatus}
            <p><strong>Fecha de Registro:</strong> ${currentUser.registrationDate}</p>
            <p><strong>Estado:</strong> Cliente Activo üü¢</p>
        `;
    }

    function clearMessages() {
        document.querySelectorAll('.error, .success').forEach(el => {
            el.style.display = 'none';
            el.textContent = '';
        });
    }

    function showError(elementId, message) {
        const errorElement = document.getElementById(elementId);
        errorElement.textContent = message;
        errorElement.style.display = 'block';
    }

    function showSuccess(elementId, message) {
        const successElement = document.getElementById(elementId);
        successElement.textContent = message;
        successElement.style.display = 'block';
    }

    // Validaci√≥n de n√∫mero de tel√©fono colombiano
    function isValidColombianPhone(phone) {
        const phoneRegex = /^[3][0-9]{9}$/;
        return phoneRegex.test(phone);
    }

    // Validaci√≥n de nombre de usuario
    function isValidUsername(username) {
        const usernameRegex = /^[a-zA-Z0-9_]{3,20}$/;
        return usernameRegex.test(username);
    }

    // Manejo del formulario de registro
    document.getElementById('registerFormElement').addEventListener('submit', function(e) {
        e.preventDefault();
        clearMessages();

        const phone = document.getElementById('registerPhone').value.trim();
        const username = document.getElementById('registerUsername').value.trim();
        const referralCode = document.getElementById('referralCode').value.trim();
        const password = document.getElementById('registerPassword').value;
        const confirmPassword = document.getElementById('confirmPassword').value;
        const captchaInput = document.getElementById('captchaInput').value.trim();

        // Validaciones
        if (!isValidColombianPhone(phone)) {
            showError('registerError', 'El n√∫mero debe ser un celular colombiano v√°lido (ej: 3001234567)');
            return;
        }

        if (!isValidUsername(username)) {
            showError('registerError', 'El nombre de usuario debe tener 3-20 caracteres (letras, n√∫meros, _)');
            return;
        }

        if (referralCode && !validReferralCodes.includes(referralCode.toUpperCase())) {
            showError('registerError', 'El c√≥digo de referido no es v√°lido');
            return;
        }

        if (password.length < 8) {
            showError('registerError', 'La contrase√±a debe tener al menos 8 caracteres');
            return;
        }

        if (password !== confirmPassword) {
            showError('registerError', 'Las contrase√±as no coinciden');
            return;
        }

        if (captchaInput.toUpperCase() !== currentCaptcha) {
            showError('registerError', 'El c√≥digo de verificaci√≥n es incorrecto');
            refreshCaptcha();
            return;
        }

        // Verificar si el usuario ya existe
        if (users.find(user => user.phone === phone)) {
            showError('registerError', 'Este n√∫mero de tel√©fono ya est√° registrado');
            return;
        }

        if (users.find(user => user.username === username)) {
            showError('registerError', 'Este nombre de usuario ya est√° en uso');
            return;
        }

        // Crear nuevo usuario
        const newUser = {
            phone: phone,
            username: username,
            referralCode: referralCode.toUpperCase() || null,
            password: password,
            registrationDate: new Date().toLocaleDateString()
        };

        users.push(newUser);
        currentUser = newUser;

        const referralMessage = referralCode ? 
            ' ¬°C√≥digo de referido aplicado exitosamente!' : '';
        
        showSuccess('registerSuccess', 
            `¬°Registro exitoso! Bienvenido a Nordex Colombia.${referralMessage} Redirigiendo...`);
        
        // Simular redirecci√≥n a home.html
        setTimeout(() => {
            showHome();
        }, 2000);
    });

    // Manejo del formulario de inicio de sesi√≥n
    document.getElementById('loginFormElement').addEventListener('submit', function(e) {
        e.preventDefault();
        clearMessages();

        const phone = document.getElementById('loginPhone').value.trim();
        const password = document.getElementById('loginPassword').value;

        // Validaciones
        if (!isValidColombianPhone(phone)) {
            showError('loginError', 'El n√∫mero debe ser un celular colombiano v√°lido');
            return;
        }

        if (!password) {
            showError('loginError', 'Por favor ingresa tu contrase√±a');
            return;
        }

        // Buscar usuario
        const user = users.find(u => u.phone === phone && u.password === password);

        if (!user) {
            showError('loginError', 'N√∫mero de tel√©fono o contrase√±a incorrectos');
            return;
        }

        currentUser = user;
        showSuccess('loginSuccess', `¬°Bienvenido de vuelta, ${user.username}! Accediendo al portal...`);

        // Simular redirecci√≥n a home.html
        setTimeout(() => {
            showHome();
        }, 1500);
    });

    // Funci√≥n de cerrar sesi√≥n
    function logout() {
        currentUser = null;
        document.getElementById('homePage').classList.remove('active');
        document.querySelector('.container').style.display = 'block';
        showLogin();
        
        // Limpiar formularios
        document.getElementById('loginFormElement').reset();
        document.getElementById('registerFormElement').reset();
        document.getElementById('captchaInput').value = '';
        refreshCaptcha();
    }

    // Datos de prueba - Clientes demo de Nordex Colombia
    users.push({
        phone: '3001234567',
        username: 'ana_garcia',
        referralCode: 'NORDEX2024',
        password: 'colombia123',
        registrationDate: '10/06/2024'
    });

    users.push({
        phone: '3109876543',
        username: 'carlos_lopez',
        referralCode: null,
        password: 'windpower',
        registrationDate: '12/06/2024'
    });

    // Formatear entrada del tel√©fono
    document.getElementById('registerPhone').addEventListener('input', function(e) {
        let value = e.target.value.replace(/\D/g, '');
        if (value.length > 10) value = value.slice(0, 10);
        e.target.value = value;
    });

    document.getElementById('loginPhone').addEventListener('input', function(e) {
        let value = e.target.value.replace(/\D/g, '');
        if (value.length > 10) value = value.slice(0, 10);
        e.target.value = value;
    });
</script>
```

</body>
</html>
